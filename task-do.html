<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
  <title>做单</title>
  <link rel="stylesheet" href="./css/app.css?v=3" />
  <link rel="stylesheet" href="./css/nav.css?v=3" />
  <link rel="stylesheet" href="./css/taskdo.css?v=3" />
</head>
<body>
  <div class="app">

    <header class="topbar">
      <div class="brand">
        <div class="logoDots" aria-hidden="true">
          <span class="d r"></span><span class="d b"></span><span class="d y"></span><span class="d g"></span>
        </div>
        <div class="brandText">
          <div class="brandName">订单提交</div>
          <div class="brandSub" id="taskNameLine">—</div>
        </div>
      </div>
      <div class="topActions">
        <button class="iconbtn" id="backBtn" title="返回" aria-label="返回">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
            <path d="M15 6l-6 6 6 6" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </button>
      </div>
    </header>

    <section class="card">
      <div class="cardHead">
        <div>
          <div class="cardTitle">当前订单</div>
          <div class="cardSub">完成后才能继续下一单</div>
        </div>
      </div>

      <div class="cardBody">
        <div class="doCard">
          <div class="doThumb"><img id="pImg" src="./assets/product.svg" alt="product"></div>

          <div class="doInfo">
            <div class="doTitle" id="pTitle">—</div>
            <div class="doSub" id="pSub">—</div>

            <div class="doGrid">
              <div class="doBox">
                <div class="k">订单金额</div>
                <div class="v blue"><span id="needLine">0.0000</span> USDT</div>
              </div>
              <div class="doBox">
                <div class="k">返利比例</div>
                <div class="v"><span id="rateLine">5</span>%</div>
              </div>
              <div class="doBox">
                <div class="k">预计返利</div>
                <div class="v blue"><span id="rewardLine">0.0000</span> USDT</div>
              </div>
              <div class="doBox">
                <div class="k">进度</div>
                <div class="v"><span id="stepLine">0</span>/<span id="totalLine">20</span></div>
              </div>
            </div>

            <div class="balanceLine">
              可用余额：<b id="balLine">0.0000</b> USDT
            </div>

            <button class="primaryBtn doBtn" id="submitBtn">提交订单</button>
            <div class="hint" id="hintLine"></div>
          </div>
        </div>
      </div>
    </section>

    <div class="pagePadBottom"></div>

    <nav class="tabbar">
      <div class="tabs">
        <button class="tab" data-go="./dashboard.html">
          <div class="ico">
            <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8">
              <path d="M3 10.5l9-7 9 7V20a1 1 0 0 1-1 1h-5v-7H9v7H4a1 1 0 0 1-1-1z" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
          </div>
          <span>首页</span>
        </button>
        <button class="tab" data-go="./me.html">
          <div class="ico">
            <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8">
              <path d="M20 21a8 8 0 0 0-16 0" stroke-linecap="round"></path>
              <circle cx="12" cy="8" r="4" stroke-linecap="round"></circle>
            </svg>
          </div>
          <span>我的</span>
        </button>
        <button class="tab" data-go="./records.html">
          <div class="ico">
            <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8">
              <path d="M8 6h8M8 12h8M8 18h5" stroke-linecap="round"></path>
              <path d="M6 3h9l3 3v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
          </div>
          <span>记录</span>
        </button>
        <button class="tab active" data-go="./tasks.html">
          <div class="ico">
            <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8">
              <path d="M6 6h15l-1.5 9H7.2L6 6z" stroke-linecap="round" stroke-linejoin="round"></path>
              <circle cx="9" cy="20" r="1.5"></circle>
              <circle cx="17" cy="20" r="1.5"></circle>
              <path d="M6 6l-2-3" stroke-linecap="round"></path>
            </svg>
          </div>
          <span>任务</span>
        </button>
      </div>
    </nav>

    <div class="modalMask" id="confirmMask" aria-hidden="true">
      <div class="modalCard">
        <div class="modalTitle">请确认订单信息</div>
        <div class="modalSub">记录生成后可在记录中心查询，预计处理时间 1-3 分钟。</div>
        <div class="bill">
          <div class="billRow"><span>订单号</span><b id="confirmOrderId">-</b></div>
          <div class="billRow"><span>订单金额</span><b class="keyNum" id="confirmAmount">-</b></div>
          <div class="billRow"><span>预计返利</span><b class="keyNum" id="confirmReward">-</b></div>
          <div class="billRow"><span>进度</span><b id="confirmProgress">-</b></div>
          <div class="billRow"><span>提示</span><b id="confirmNote">资金将按流程冻结与释放</b></div>
        </div>
        <div class="modalActions">
          <button class="ghostBtn" id="confirmCancel">取消</button>
          <button class="primaryBtn" id="confirmOk">确认提交</button>
        </div>
      </div>
    </div>

    <div class="submitOverlay" id="submitOverlay" aria-hidden="true">
      <div class="overlayCard">
        <div class="overlayTitle">订单提交中</div>
        <div class="overlaySub">系统正在处理，请勿离开当前页面。</div>
        <div class="progress">
          <div class="bar" id="progressBar"></div>
        </div>
        <div class="stepList" id="progressSteps">
          <div class="step active">校验订单信息</div>
          <div class="step">提交区块确认</div>
          <div class="step">生成处理记录</div>
        </div>
      </div>
    </div>

    <div class="modalMask" id="resultMask" aria-hidden="true">
      <div class="modalCard">
        <div class="modalTitle" id="resultTitle">提交结果</div>
        <div class="modalSub" id="resultSub">—</div>
        <div class="bill" id="resultBill"></div>
        <div class="modalActions" id="resultActions"></div>
      </div>
    </div>

  </div>

  <script src="./js/common.js" defer></script>
  <script src="./js/nav.js" defer></script>
  <script src="./js/task-do.js" defer></script>
</body>
</html>
